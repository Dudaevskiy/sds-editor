{"version":3,"file":"embed-preset-basic.js","sources":["../../../node_modules/just-extend/index.js","../../../node_modules/is-in-browser/dist/module.js","../../embed-plugin-utilities/src/string-replace-async.js","../../embed-plugin-utilities/src/insert.js","../../../node_modules/just-truncate/index.js","../../embed-plugin-utilities/src/with-details-template.js","../../embed-plugin-utilities/src/without-details-template.js","../../embed-plugin-base/src/index.js","../../embed-plugin-highlight/src/index.js","../../../node_modules/regex-emoji/lib/index.js","../../../node_modules/just-kebab-case/index.js","../../embed-plugin-emoji/src/index.js","../../embed-plugin-github/src/index.js","../../../node_modules/is-dom/index.js","../../../node_modules/just-pluck-it/index.js","../../../node_modules/just-flatten-it/index.js","../../embed-plugin-noembed/src/noembed-regex.js","../../embed-plugin-noembed/src/index.js","../../../node_modules/html-escape/index.js","../../../node_modules/html-linkify/index.js","../../embed-plugin-url/src/index.js","../../../node_modules/youtube-regex/index.js","../../embed-plugin-youtube/src/index.js","../../embed-plugin-facebook/src/index.js","../../embed-plugin-media/src/index.js","../../embed-plugin-instagram/src/index.js","../src/index.js"],"sourcesContent":["module.exports = extend;\n\n/*\n  var obj = {a: 3, b: 5};\n  extend(obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 4, b: 5, c: 8}\n\n  var obj = {a: 3, b: 5};\n  extend({}, obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 3, b: 5}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4]}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(true, obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3]}\n\n  extend({a: 4, b: 5}); // {a: 4, b: 5}\n  extend({a: 4, b: 5}, 3); {a: 4, b: 5}\n  extend({a: 4, b: 5}, true); {a: 4, b: 5}\n  extend('hello', {a: 4, b: 5}); // throws\n  extend(3, {a: 4, b: 5}); // throws\n*/\n\nfunction extend(/* [deep], obj1, obj2, [objn] */) {\n  var args = [].slice.call(arguments);\n  var deep = false;\n  if (typeof args[0] == 'boolean') {\n    deep = args.shift();\n  }\n  var result = args[0];\n  if (!result || (typeof result != 'object' && typeof result != 'function')) {\n    throw new Error('extendee must be an object');\n  }\n  var extenders = args.slice(1);\n  var len = extenders.length;\n  for (var i = 0; i < len; i++) {\n    var extender = extenders[i];\n    for (var key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        var value = extender[key];\n        if (deep && isCloneable(value)) {\n          var base = Array.isArray(value) ? [] : {};\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nfunction isCloneable(obj) {\n  return Array.isArray(obj) || {}.toString.call(obj) == '[object Object]';\n}\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","import extend from \"just-extend\"\n\nfunction matchAll(str, re) {\n  const matches = []\n  let res = re.exec(str)\n\n  while (res) {\n    matches.push(res)\n\n    if (!re.global) {\n      break\n    }\n\n    res = re.exec(str)\n  }\n  return matches\n}\n\nfunction replaceAll(str, matches) {\n  return matches.reverse().reduce(function(res, match) {\n    const prefix = res.slice(0, match.index)\n    const postfix = res.slice(match.index + match[0].length)\n\n    return prefix + match.replacement + postfix\n  }, str)\n}\n\nfunction assignReplacement(match, replacer) {\n  const args = match.concat([match.index, match.input])\n\n  return replacer.apply(null, args).then(function(res) {\n    return extend({}, match, { replacement: res })\n  })\n}\n\nfunction concurrency(matches, replacer) {\n  const promises = matches.map(function(match) {\n    return assignReplacement(match, replacer)\n  })\n\n  return Promise.all(promises)\n}\n\nfunction processString(str, re, replacer) {\n  const matches = matchAll(str, re)\n  const processor = concurrency\n\n  return processor(matches, replacer).then(function(matches) {\n    return replaceAll(str, matches)\n  })\n}\n\nfunction stringReplaceAsync(str, re, replacer) {\n  re.lastIndex = 0\n  try {\n    return Promise.resolve(processString(str, re, replacer))\n  } catch (e) {\n    return Promise.reject(e)\n  }\n}\n\nexport default stringReplaceAsync\n","import extend from \"just-extend\"\nimport stringReplaceAsync from \"./string-replace-async\"\n\nconst anchorRegex = /<a[^>]*>([^<]+)<\\/a>/gi\n\nfunction getAnchorRegex(regex) {\n  return new RegExp(`<a[^>]*>(${regex.source})<\\\\/a>`, \"gi\")\n}\n\n/**\n * Returns the matched regex data or whether the text has any matching string\n * @param regex Regex of the matching pattern\n * @param text String which has to be searched\n * @param test Return boolean or matching array\n * @returns {*} Boolean|Array\n */\nfunction isMatchPresent(regex, text, test = false) {\n  return test ? regex.test(text) : text.match(regex)\n}\n\n/**\n * Tells wheteher the matching string is present inside an anchor tag\n * @param text\n * @returns {*} Boolean\n * @param regex\n */\nfunction isAnchorTagApplied({ result, plugins = [] }, { regex }) {\n  return (\n    getAnchorRegex(regex).test(result) ||\n    plugins.filter(plugin => plugin.id === \"url\").length\n  )\n}\n\nfunction saveServiceName({ _services }, { id }, match) {\n  if (!_services.filter(x => x.match === match).length) {\n    _services.push({ id, match })\n  }\n}\n\nasync function pushEmbedContent(text, options, pluginOptions, index) {\n  const { regex } = pluginOptions\n  await stringReplaceAsync(text, regex, async (...args) => {\n    options._embeds.push({\n      content: await getTemplate(args, options, pluginOptions),\n      index: index || args.find(x => typeof x === \"number\")\n    })\n    saveServiceName(options, pluginOptions, args[0])\n  })\n  return options\n}\n\n/**\n * Save the embed code into an array that can be added later to the end of original string\n * @param opts\n * @param pluginOptions\n */\nasync function saveEmbedData(opts, pluginOptions) {\n  const { regex } = pluginOptions\n  let options = extend({}, opts)\n\n  if (isAnchorTagApplied(options, { regex })) {\n    await stringReplaceAsync(\n      options.result,\n      anchorRegex,\n      async (match, url, index) => {\n        if (!isMatchPresent(regex, match, true)) return match\n        saveServiceName(options, pluginOptions, match)\n        options = await pushEmbedContent(url, options, pluginOptions, index)\n        return match\n      }\n    )\n  } else {\n    options = pushEmbedContent(options.result, options, pluginOptions)\n  }\n\n  return options\n}\n\nfunction getMatch(regex, string) {\n  regex.lastIndex = 0\n  const matches = regex.exec(string)\n  regex.lastIndex = 0\n  return matches\n}\n\nasync function getTemplate(args, options, pluginOptions) {\n  const { _process, template } = pluginOptions\n  let data\n  if (_process) {\n    data = await _process(args, options, pluginOptions)\n  }\n  return template(args, options, pluginOptions, data)\n}\n\nasync function basicReplace(options, pluginOptions) {\n  const { result, replaceUrl } = options\n  const { regex, _replaceAnyways } = pluginOptions\n  return stringReplaceAsync(result, regex, async (...args) => {\n    saveServiceName(options, pluginOptions, args[0])\n    return replaceUrl || _replaceAnyways\n      ? getTemplate(args, options, pluginOptions)\n      : `${args[0]} ${await getTemplate(args, options, pluginOptions)}`\n  })\n}\n\nasync function anchorReplace(options, pluginOptions) {\n  const { result, replaceUrl } = options\n  const { regex, _replaceAnyways } = pluginOptions\n\n  return stringReplaceAsync(result, anchorRegex, async (match, url) => {\n    if (!isMatchPresent(regex, url, true)) {\n      return match\n    }\n\n    if (!(replaceUrl || _replaceAnyways)) {\n      const args = getMatch(regex, url)\n      saveServiceName(options, pluginOptions, args[0])\n      const t = await getTemplate(args, options, pluginOptions)\n      return args ? match + t : match\n    }\n    return stringReplaceAsync(url, regex, async (...args) => {\n      saveServiceName(options, pluginOptions, args[0])\n      return getTemplate(args, options, pluginOptions)\n    })\n  })\n}\n\n/**\n * Insert the embed code in the original string.\n * @param options\n * @param pluginOptions\n * @returns options\n */\nexport default async function(options, pluginOptions) {\n  const { inlineEmbed } = options\n  const { _ignoreAnchorCheck, _ignoreInlineCheck, regex } = pluginOptions\n\n  if (!inlineEmbed && !_ignoreInlineCheck) {\n    return saveEmbedData(options, pluginOptions)\n  }\n\n  let output\n\n  output =\n    isAnchorTagApplied(options, { regex }) && !_ignoreAnchorCheck\n      ? await anchorReplace(options, pluginOptions)\n      : await basicReplace(options, pluginOptions)\n\n  return extend({}, options, {\n    result: output\n  })\n}\n","module.exports = truncate;\n\n/*\n  truncate('when shall we three meet again', 9); // 'when s...'\n  truncate('when shall we three meet again', 10, ' (etc)'); // 'when (etc)'\n  truncate('when shall we', 15,); // 'when shall we'\n  truncate('when shall we', 15, '(more)'); // 'when shall we'\n  truncate('when shall we', 7, ' (more)'); // ' (more)'\n*/\n\nfunction truncate(str, length, end) {\n  if (length == null || length >= str.length) {\n    return str;\n  }\n  if (end == null) {\n    end = '...';\n  }\n  return str.slice(0, Math.max(0, length - end.length)) + end;\n}\n","import truncate from \"just-truncate\"\n\nexport default function(\n  { url, title, embedUrl, description, thumbnail },\n  thumbClassName,\n  showPlayIcon = false\n) {\nreturn `<div class=\"ejs-preview ejs-embed\"><div class=\"ejs-thumb ${thumbClassName}\" data-url=\"${embedUrl}\" style=\"background-image:url(${thumbnail})\">${showPlayIcon ? '<span>&#9658;</span>' : ''}</div><div class=\"ejs-info\"><h4 class=\"ejs-title\"><a href=\"${url}\">${title}</a></h4><div class=\"ejs-desc\">${truncate(\n    description,\n    150\n  )}</div></div></div>`\n}\n","export default function(embedUrl, height, name) {\n  return `<iframe class=\"ejs-embed ejs-${name}\" src=\"${embedUrl}\" frameBorder=\"0\" height=\"${height}\"></iframe>`\n}\n","import extend from \"just-extend\"\nimport { insert } from \"embed-plugin-utilities\"\n\nexport default opts => {\n  const defaultOptions = {\n    _replaceAnyways: false,\n    _ignoreAnchorCheck: false,\n    _ignoreInlineCheck: false,\n    onLoad() {}\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts)\n\n  const { _onLoadInternal, onLoad, regex, template, id } = pluginOptions\n\n  if (!regex) {\n    throw new Error(\"regex not passed.\")\n  }\n  if (!template) {\n    throw new Error(\"template not passed.\")\n  }\n\n  return {\n    id,\n\n    async transform(options) {\n      return extend({}, options, await insert(options, pluginOptions))\n    },\n\n    onLoad(options) {\n      if (_onLoadInternal) {\n        _onLoadInternal(options, pluginOptions)\n      }\n      if (onLoad) {\n        onLoad(options, pluginOptions)\n      }\n    }\n  }\n}\n","import extend from \"just-extend\"\nimport isBrowser from \"is-in-browser\"\nimport base from \"embed-plugin-base\"\n\nconst id = \"highlight\"\n\nexport default function highlight(opts) {\n  const defaultOptions = {\n    id,\n    regex: /(`{3})(\\s|[a-z]+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/gm,\n    prismjs: !isBrowser ? global.Prism : window.Prism,\n    template(args, options, { prismjs }) {\n      const language = args[2] === \"\\n\" || !args[2] ? \"markup\" : args[2]\n      const code = args[3]\n\n      const className = `language-${language}`\n      return `<pre class=\"${className}\"><code class=\"${className}\">${prismjs.highlight(\n        code,\n        prismjs.languages[language]\n      )}</code></pre>`\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts, {\n    _replaceAnyways: true,\n    _ignoreAnchorCheck: true,\n    _ignoreInlineCheck: true\n  })\n\n  if (!pluginOptions.prismjs) {\n    throw new Error(\n      \"You need to load prismjs as a global variable or pass it in options.\"\n    )\n  }\n\n  return base(pluginOptions)\n}\n\nhighlight.id = id\n","\"use strict\";\n\n/**\n * emojiRegex\n * Returns the emoji regex value.\n *\n * @name emojiRegex\n * @function\n * @return {RegExp} The emoji regex.\n */\nmodule.exports = function emojiRegex() {\n  return (/:([a-z0-9_\\+\\-]+):/g\n  );\n};","module.exports = kebabCase;\n\n/*\n  kebabCase('the quick brown fox'); // 'the-quick-brown-fox'\n  kebabCase('the-quick-brown-fox'); // 'the-quick-brown-fox'\n  kebabCase('the_quick_brown_fox'); // 'the-quick-brown-fox'\n  kebabCase('theQuickBrownFox'); // 'the-quick-brown-fox'\n  kebabCase('theQuickBrown Fox'); // 'the-quick-brown-fox'\n  kebabCase('thequickbrownfox'); // 'thequickbrownfox'\n  kebabCase('the - quick * brown# fox'); // 'the-quick-brown-fox'\n  kebabCase('theQUICKBrownFox'); // 'the-q-u-i-c-k-brown-fox'\n*/\n\n// any combination of spaces and punctuation characters\n// thanks to http://stackoverflow.com/a/25575009\nvar wordSeparators = /[\\s\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,\\-.\\/:;<=>?@\\[\\]^_`{|}~]+/;\nvar capitals = /[A-Z\\u00C0-\\u00D6\\u00D9-\\u00DD]/g;\n\nfunction kebabCase(str) {\n  //replace capitals with space + lower case equivalent for later parsing\n  str = str.replace(capitals, function(match) {\n    return ' ' + (match.toLowerCase() || match);\n  });\n  return str\n    .trim()\n    .split(wordSeparators)\n    .join('-');\n}\n","import extend from \"just-extend\"\nimport emojiRegex from \"regex-emoji\"\nimport kebab from \"just-kebab-case\"\n\nconst id = \"emoji\"\n\n// You need emoji.css to run with this plugin. Else you need to pass the\n// template suitable to your needs.\nexport default function emoji(opts) {\n  const defaultOptions = {\n    id,\n    regex: emojiRegex(),\n    template(emojiName) {\n      return `<span class=\"ec ec-${kebab(emojiName)}\"></span>`\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts)\n  return {\n    transform(options) {\n      return Promise.resolve(\n        extend({}, options, {\n          result: options.result.replace(\n            pluginOptions.regex,\n            (match, emojiName) => {\n              options._services.push({ id, match })\n              return pluginOptions.template(emojiName, options, pluginOptions)\n            }\n          )\n        })\n      )\n    }\n  }\n}\n\nemoji.id = id\n","import extend from \"just-extend\"\nimport base from \"embed-plugin-base\"\nimport { withDetailsTemplate } from \"embed-plugin-utilities\"\n\nconst id = \"github\"\n\nasync function _process(args, { fetch }) {\n  const [, user, repo] = args\n\n  try {\n    const res = await fetch(`https://api.github.com/repos/${user}/${repo}`)\n    return res.json()\n  } catch (e) {\n    return {}\n  }\n}\n\nexport default function github(opts) {\n  const defaultOptions = {\n    id,\n    regex: /[^\\.]github.com\\/([\\w\\.\\-]+)\\/([\\w\\.\\-]+[^\\.])/gi,\n\n    async template(\n      args,\n      options,\n      pluginOptions,\n      { owner, description, html_url, full_name }\n    ) {\n      return withDetailsTemplate({\n        thumbnail: owner.avatar_url,\n        url: html_url,\n        description,\n        title: full_name\n      })\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts, {\n    _process\n  })\n  return base(pluginOptions)\n}\n\ngithub.id = id\n","module.exports = isNode\n\nfunction isNode (val) {\n  return (!val || typeof val !== 'object')\n    ? false\n    : (typeof window === 'object' && typeof window.Node === 'object')\n      ? (val instanceof window.Node)\n      : (typeof val.nodeType === 'number') &&\n        (typeof val.nodeName === 'string')\n}\n","module.exports = pluck;\n\n/*\n  var arr = [{a:1, b:2}, {a:4, b:3}, {a:2, b:5}];\n  pluck(arr, 'a'); // [1, 4, 2]\n  var obj = {x: {a:1, b:2}, y: {a:4, b:3}, z: {a:2, b:5}];\n  pluck(obj, 'a'); // {x: 1, y: 4, z: 2}\n*/\n\nfunction pluck(collection, propertyName) {\n  if (!collection || typeof collection != 'object') {\n    return new Error('expected first argument to be an object or array');\n  }\n\n  var result, len, i, keys, key;\n  if (Array.isArray(collection)) {\n    result = [];\n    len = collection.length;\n    for (i = 0; i < len; i++) {\n      result.push(collection[i][propertyName]);\n    }\n  } else {\n    result = {};\n    keys = Object.keys(collection);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      result[key] = collection[key][propertyName];\n    }\n  }\n  return result;\n}\n","module.exports = flatten;\n\n/*\n  flatten([[1, [2, 3]], [[4, 5], 6, 7, [8, 9]]]);\n  // [1, 2, 3, 4, 5, 6, 7, 8, 9]\n*/\n\nfunction flatten(arr) {\n  if (!Array.isArray(arr)) {\n    throw new Error('expected an array');\n  }\n  var result = [];\n  var len = arr.length;\n  for (var i = 0; i < len; i++) {\n    var elem = arr[i];\n    if (Array.isArray(elem)) {\n      result.push.apply(result, flatten(elem));\n    } else {\n      result.push(elem);\n    }\n  }\n  return result;\n}\n","import pluck from \"just-pluck-it\"\nimport flatten from \"just-flatten-it\"\n\nconst regexes = [\n  {\n    patterns: [\"https?://soundcloud.com/.*/.[^\\\\s]*\"],\n    name: \"SoundCloud\"\n  },\n  {\n    name: \"slideshare\",\n    patterns: [\n      \"https?://www\\\\.slideshare\\\\.net/.*/.[^\\\\s]*\",\n      \"https?://fr\\\\.slideshare\\\\.net/.*/.[^\\\\s]*\",\n      \"https?://de\\\\.slideshare\\\\.net/.*/.[^\\\\s]*\",\n      \"https?://es\\\\.slideshare\\\\.net/.*/.[^\\\\s]*\",\n      \"https?://pt\\\\.slideshare\\\\.net/.*/.[^\\\\s]*\"\n    ]\n  },\n  {\n    name: \"vimeo\",\n    patterns: [\n      \"https?://vimeo\\\\.com/.[^\\\\s]*\",\n      \"https?://vimeo\\\\.com/album/.*/video/.[^\\\\s]*\",\n      \"https?://vimeo\\\\.com/channels/.*/.[^\\\\s]*\",\n      \"https?://vimeo\\\\.com/groups/.*/videos/.[^\\\\s]*\",\n      \"https?://vimeo\\\\.com/ondemand/.*/.[^\\\\s]*\"\n    ]\n  },\n  {\n    patterns: [\n      \"https?://photos\\\\.app\\\\.net/.*/.[^\\\\s]*\",\n      \"https?://live\\\\.amcharts\\\\.com/.[^\\\\s]*\",\n      \"https?://codepen\\\\.io/.[^\\\\s]*\",\n      \"https?://codepen\\\\.io/.[^\\\\s]*\",\n      \"https?://www\\\\.collegehumor\\\\.com/video/.[^\\\\s]*\",\n      \"https?://www\\\\.dailymotion\\\\.com/video/.[^\\\\s]*\",\n      \"https?://.*\\\\.deviantart\\\\.com/art/.[^\\\\s]*\",\n      \"https?://.*\\\\.deviantart\\\\.com/.*#/d.[^\\\\s]*\",\n      \"https?://dotsub\\\\.com/view/.[^\\\\s]*\",\n      \"https?://.*\\\\.flickr\\\\.com/photos/.[^\\\\s]*\",\n      \"https?://flic\\\\.kr/p/.[^\\\\s]*\",\n      \"https?://.*\\\\.wikimedia\\\\.org/.*_geograph\\\\.org\\\\.uk_.[^\\\\s]*\",\n      \"https?://gfycat\\\\.com/.[^\\\\s]*\",\n      \"https?://www\\\\.gfycat\\\\.com/.[^\\\\s]*\",\n      \"https?://gfycat\\\\.com/.[^\\\\s]*\",\n      \"https?://www\\\\.gfycat\\\\.com/.[^\\\\s]*\",\n      \"https?://giphy\\\\.com/gifs/.[^\\\\s]*\",\n      \"https?://media\\\\.giphy\\\\.com/media/.*/giphy\\\\.gif\",\n      \"https?://www\\\\.hulu\\\\.com/watch/.[^\\\\s]*\",\n      \"https?://www\\\\.kickstarter\\\\.com/projects/.[^\\\\s]*\",\n      \"https?://www\\\\.mixcloud\\\\.com/.*/.*/\",\n      \"https?://reddit\\\\.com/r/.*/comments/.*/.[^\\\\s]*\",\n      \"https?://.*\\\\.screen9\\\\.tv/.[^\\\\s]*\",\n      \"https?://www\\\\.scribd\\\\.com/doc/.[^\\\\s]*\",\n      \"https?://.*\\\\.smugmug\\\\.com/.[^\\\\s]*\",\n      \"https?://soundcloud\\\\.com/.[^\\\\s]*\",\n      \"https?://play\\\\.soundsgood\\\\.co/playlist/.[^\\\\s]*\",\n      \"https?://speakerdeck\\\\.com/.*/.[^\\\\s]*\",\n      \"https?://speakerdeck\\\\.com/.*/.[^\\\\s]*\",\n      \"https?://ted\\\\.com/talks/.[^\\\\s]*\",\n      \"https?://www\\\\.nytimes\\\\.com/svc/oembed\",\n      \"https?://nytimes\\\\.com/.[^\\\\s]*\",\n      \"https?://.*\\\\.nytimes\\\\.com/.[^\\\\s]*\",\n      \"https?://clips\\\\.twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://clips\\\\.twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://www\\\\.twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://www\\\\.twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://twitch\\\\.tv/.[^\\\\s]*\",\n      \"https?://.*\\\\.ustream\\\\.tv/.[^\\\\s]*\",\n      \"https?://.*\\\\.ustream\\\\.com/.[^\\\\s]*\",\n      \"https?://veervr\\\\.tv/videos/.[^\\\\s]*\",\n      \"https?://www\\\\.vevo\\\\.com/.[^\\\\s]*\",\n      \"https?://www\\\\.vevo\\\\.com/.[^\\\\s]*\",\n      \"https?://player\\\\.vimeo\\\\.com/video/.[^\\\\s]*\",\n      \"https?://vine\\\\.co/v/.[^\\\\s]*\",\n      \"https?://vine\\\\.co/v/.[^\\\\s]*\"\n    ],\n    name: \"oEmbed\"\n  },\n  {\n    name: \"Imgur\",\n    patterns: [\"https?://imgur\\\\.com/(?:[^\\\\/]+/)?[0-9a-zA-Z]+$\"]\n  },\n  {\n    patterns: [\n      \"https?://www\\\\.(dropbox\\\\.com/s/.+\\\\.(?:jpg|png|gif))\",\n      \"https?://db\\\\.tt/[a-zA-Z0-9][^\\\\s]+\"\n    ],\n    name: \"Dropbox\"\n  },\n  // #if IS_CJS\n  {\n    patterns: [\n      \"https?:\\\\/\\\\/(?:[^\\\\.]+\\\\.)?youtube\\\\.com\\\\/watch\\\\/?\\\\?(?:.+&)?v=([^&][^\\\\s]+)\",\n      \"https?://(?:[^\\\\.]+\\\\.)?(?:youtu\\\\.be|youtube\\\\.com/embed)/([a-zA-Z0-9_-][^\\\\s]+)\"\n    ],\n    name: \"YouTube\"\n  },\n  // #endif\n  {\n    patterns: [\n      \"https?://(?:www|mobile\\\\.)?twitter\\\\.com/(?:#!/)?([^/]+)/status(?:es)?/(\\\\d+)\"\n    ],\n    name: \"Twitter\"\n  }\n]\n\nexport default function getRegexes(excludeServices = []) {\n  const includedRegexes = regexes.filter(\n    r => excludeServices.indexOf(r.name.toLowerCase()) === -1\n  )\n  const patterns = flatten(pluck(includedRegexes, \"patterns\"))\n  return new RegExp(patterns.join(\"|\"), \"gi\")\n}\n\nexport function isServicePresent(serviceName, text) {\n  const service = regexes.filter(r => r.name.toLowerCase() === serviceName)[0]\n  const regex = new RegExp(service.patterns.join(\"|\"), \"gi\")\n  return regex.test(text)\n}\n","import extend from \"just-extend\"\nimport isBrowser from \"is-in-browser\"\nimport isDom from \"is-dom\"\nimport getRegex, { isServicePresent } from \"./noembed-regex\"\nimport base from \"embed-plugin-base\"\n\nconst id = \"noEmbed\"\n\n/**\n * Fetches the data from the noembed API\n * @param args\n * @returns {Promise.<*>}\n */\nasync function _process(args, { fetch }) {\n  const url = args[0]\n  try {\n    const res = await fetch(`https://noembed.com/embed?url=${url}`)\n    return await res.json()\n  } catch (e) {\n    return {\n      html: url\n    }\n  }\n}\n\nfunction noEmbed(opts = {}) {\n  const defaultOptions = {\n    id,\n    // Regex to be used to identify noembed supported services.\n    // By default it takes from noembed-regex.js\n    regex: null,\n\n    // In case you want to exclude a few services, you can do it here.\n    // It accepts an array of service names in lowercase.\n    exclude: [],\n\n    twttr: isBrowser ? window.twttr : null,\n\n    onLoad() {},\n\n    async template(args, options, pluginOptions, { html }) {\n      return `<div class=\"ejs-embed\">${html}</div>`\n    },\n\n    _onLoadInternal({ input, result }, { twttr, onLoad }) {\n      if (isServicePresent(\"twitter\", result) && twttr && isDom(input)) {\n        twttr.widgets.load(input)\n        twttr.events.bind(\"loaded\", onLoad)\n      }\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts, {\n    _process\n  })\n\n  if (!opts.regex) {\n    pluginOptions.regex = getRegex(pluginOptions.exclude)\n  }\n\n  return base(pluginOptions)\n}\n\nnoEmbed.id = id\n\nexport default noEmbed\n","\"use strict\";\n\n/* From Twitter's Hogan.js */\n\nvar rAmp = /&/g,\n\trLt = /</g,\n\trGt = />/g,\n\trApos =/\\'/g,\n\trQuot = /\\\"/g,\n\thChars =/[&<>\\\"\\']/;\n\nfunction coerceToString(val) {\n\treturn String((val === null || val === undefined) ? '' : val);\n}\n\nmodule.exports = function(str) {\n\tstr = coerceToString(str);\n\n\treturn hChars.test(str)\n\t\t? str\n\t\t\t.replace(rAmp,'&amp;')\n\t\t\t.replace(rLt,'&lt;')\n\t\t\t.replace(rGt,'&gt;')\n\t\t\t.replace(rApos,'&#39;')\n\t\t\t.replace(rQuot, '&quot;')\n\t\t: str;\n};\n","// Takes plain text and replaces links with HTML anchor elements. Based on\n// https://github.com/thejh/node-linkify\n\"use strict\";\n\n// Link regex\n// See http://daringfireball.net/2010/07/improved_regex_for_matching_urls\nvar rLink = /\\b((?:https?:\\/\\/|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))/gi;\n\n// Email regex\nvar rEmail = /\\b(([a-zA-Z0-9\\-\\_\\.])+(\\+[a-zA-Z0-9]*)?@[a-zA-Z\\_\\-]+?(\\.[a-zA-Z]{2,6})+)/gim;\n\nvar escape = require(\"html-escape\");\n\nmodule.exports = function(text, options) {\n\tif ( ! options) options = {};\n\n\tvar retval = \"\", cur = 0, match;\n\n\tvar escapeFn = options.escape === false ? function(str) { return str; } : escape;\n\n\twhile (match = rLink.exec(text)) {\n\t\tretval += escapeFn(text.slice(cur, match.index));\n\t\tretval += anchor(match[0], options.attributes);\n\t\tcur = rLink.lastIndex;\n\t}\n\n\tretval += escapeFn(text.slice(cur));\n\tretval = emails(retval, options.attributes);\n\n\treturn retval;\n};\n\n// Return an anchor element for the url\nfunction anchor(url, attrs) {\n\tvar text = escape(url),\n\t\thref = url;\n\n\t// Ensure protocol at beginning of url\n\tif (!/^[a-zA-Z]{1,6}:/.test(href)) {\n\t\thref = 'http://' + href;\n\t}\n\n\tvar attrsString = combine({ href: href }, attrs);\n\n\treturn \"<a \" + attrsString + \">\" + text + \"</a>\";\n}\n\n// combine attrs objects into single string\nfunction combine() {\n\treturn Array.prototype.slice.call(arguments)\n\t\t.map(attributes)\n\t\t.filter(Boolean)\n\t\t.join(\" \");\n}\n\n// Replace emails in text with anchor elements\nfunction emails(text, attrs) {\n\tvar attrsString = attributes(attrs);\n\n\treturn text.replace(rEmail, function(match, email) {\n\t\tvar elAttrs = attributes({ href: \"mailto:\" + email });\n\t\tif (attrsString) {\n\t\t\telAttrs += \" \" + attrsString;\n\t\t}\n\n\t\treturn \"<a \" + elAttrs + \">\" + escape(email) + \"</a>\";\n\t});\n}\n\nfunction attributes(attrs) {\n\tif ( ! attrs) return \"\";\n\treturn Object.keys(attrs).map(function(name) {\n\t\tvar value = attrs[name];\n\t\treturn escape(name) + \"=\\\"\" + escape(value) + \"\\\"\";\n\t}).join(\" \");\n}\n","import extend from \"just-extend\"\nimport linkify from \"html-linkify\"\n\nconst id = \"url\"\n\nexport default function url(opts) {\n  const defaultOptions = {\n    attributes: {},\n\n    // setting this to true will mess up characters like \"\n    escape: false\n  }\n\n  const { attributes, escape } = extend({}, defaultOptions, opts)\n  return {\n    id,\n    async transform(options) {\n      return extend({}, options, {\n        result: linkify(options.result, { attributes, escape })\n      })\n    }\n  }\n}\n\nurl.id = id\n","/**\n * youtube-regex <https://github.com/tunnckoCore/youtube-regex>\n *\n * Copyright (c) 2014 Charlike Mike Reagent, contributors.\n * Released under the MIT license.\n */\n\n'use strict';\n\nmodule.exports = function youtubeRegex() {\n  var regex = /(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\/?\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/g;\n\n  return regex;\n};\n","import extend from \"just-extend\"\nimport isDom from \"is-dom\"\nimport ytRegex from \"youtube-regex\"\nimport base from \"embed-plugin-base\"\nimport {\n  withDetailsTemplate,\n  withoutDetailsTemplate\n} from \"embed-plugin-utilities\"\n\nconst id = \"youtube\"\nconst baseUrl = \"https://www.youtube.com/\"\n\n/**\n * Decorate data into a simpler structure\n * @param data\n * @returns {{title, thumbnail, rawDescription, views: *, likes: *, description: *, url: string, id, host: string}}\n */\nfunction formatData({ snippet, id }) {\n  return {\n    title: snippet.title,\n    thumbnail: snippet.thumbnails.medium.url,\n    description: snippet.description,\n    url: `${baseUrl}watch?v=${id}`,\n    embedUrl: `${baseUrl}embed/${id}`\n  }\n}\n\n/**\n * Fetch details of a particular youtube video\n * @param id\n * @param gAuthKey\n * @returns {Promise.<*>}\n */\nasync function fetchDetails(id, fetch, gAuthKey) {\n  try {\n    const res = await fetch(\n      `https://www.googleapis.com/youtube/v3/videos?id=${id}&key=${gAuthKey}&part=snippet,statistics`\n    )\n    const data = await res.json()\n    return data.items[0]\n  } catch (e) {\n    console.log(e)\n    return {}\n  }\n}\n\n/**\n * Function executed when a content is rendered on the client site.\n * @param input\n * @param clickClass\n * @param onVideoShow\n * @param height\n */\nfunction onLoad({ input }, { clickClass, onVideoShow, height }) {\n  if (!isDom(input)) {\n    throw new Error(\"input should be a DOM Element.\")\n  }\n  let classes = document.getElementsByClassName(clickClass)\n  for (let i = 0; i < classes.length; i++) {\n    classes[i].onclick = function() {\n      let url = this.getAttribute(\"data-url\")\n      onVideoShow(url)\n      url += \"?autoplay=1\"\n      this.parentNode.innerHTML = withoutDetailsTemplate(url, height, id)\n    }\n  }\n}\n\nfunction _process(args, { fetch }, { gAuthKey, details }) {\n  return details ? fetchDetails(args[1], fetch, gAuthKey) : Promise.resolve()\n}\n\nfunction youtube(opts) {\n  const defaultOptions = {\n    id,\n    regex: ytRegex(),\n    gAuthKey: \"\",\n    details: true,\n    height: 300,\n    clickClass: \"ejs-video-thumb\",\n    onVideoShow() {},\n    _onLoadInternal(options, pluginOptions) {\n      onLoad(options, pluginOptions)\n    },\n    onLoad() {},\n    async template(args, options, { details, height, clickClass }, data) {\n      const embedUrl = `${baseUrl}embed/${args[1]}`\n      return details\n        ? withDetailsTemplate(formatData(data), clickClass, true)\n        : withoutDetailsTemplate(embedUrl, height, id)\n    }\n  }\n\n  if (!opts.gAuthKey) {\n    throw new Error(\"You need to pass google auth key.\")\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts, {\n    _process\n  })\n  return base(pluginOptions)\n}\n\nyoutube.id = id\n\nexport default youtube\n","import extend from \"just-extend\"\nimport { withoutDetailsTemplate } from \"embed-plugin-utilities\"\nimport base from \"embed-plugin-base\"\n\nconst id = \"facebook\"\n\nexport default function facebook(opts) {\n  const defaultOptions = {\n    id,\n    regex: /(https?:\\/\\/)?www\\.facebook\\.com\\/(?:(videos|posts)\\.php\\?v=\\d+|.*?\\/(videos|posts)\\/\\d+\\/?)/gi,\n    height: 225,\n    template(args, options, { height }) {\n      const url = args[0]\n      const type = url.indexOf(\"/videos/\") < 0 ? \"post\" : \"video\"\n      return withoutDetailsTemplate(\n        `https://www.facebook.com/plugins/${type}.php?href=${url}`,\n        height,\n        id\n      )\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts)\n  return base(pluginOptions)\n}\n\nfacebook.id = id\n","import extend from \"just-extend\"\nimport base from \"embed-plugin-base\"\n\nconst id = \"media\"\n\nconst image = [\"gif\", \"jpg\", \"jpeg\", \"tiff\", \"png\", \"svg\", \"webp\"]\nconst video = [\"ogv\", \"webm\", \"mp4\"]\nconst audio = [\"wav\", \"mp3\", \"ogg\"]\n\nexport default function basicImage(opts) {\n  const defaultOptions = {\n    id,\n    regex: new RegExp(\n      `(?:https?)://\\\\S*\\\\.(?:${image.concat(video, audio).join(\"|\")})`,\n      \"gi\"\n    ),\n    template(args) {\n      const url = args[0]\n      const ext = url.split(\".\").slice(-1)[0]\n      if (image.indexOf(ext) >= 0) {\n        return `<img class=\"ejs-embed\" src=\"${url}\"/>`\n      } else if (video.indexOf(ext) >= 0) {\n        return `<video src=\"${url}\" controls class=\"ejs-video\"></video>`\n      } else if (audio.indexOf(ext) >= 0) {\n        return `<audio src=\"${url}\" controls class=\"ejs-audio\"></audio>`\n      }\n    }\n  }\n  const pluginOptions = extend({}, defaultOptions, opts)\n  return base(pluginOptions)\n}\n\nbasicImage.id = id\n","import extend from \"just-extend\"\nimport base from \"embed-plugin-base\"\n\nconst id = \"instagram\"\n\nexport default function instagram(opts) {\n  const defaultOptions = {\n    id,\n    height: 440,\n    regex: /((https?:\\/\\/)(www\\.)?instagram.com\\/p\\/[a-zA-Z0-9_\\-\\=]+)(\\/\\?[a-zA-Z0-9_\\-\\=]+)?/gi,\n    template(args, options, { width, height }) {\n      return `<iframe class=\"ejs-embed ejs-instagram\" src=\"${args[1]}/embed\" height=\"${height}\"></iframe>`\n    }\n  }\n\n  const pluginOptions = extend({}, defaultOptions, opts)\n  return base(pluginOptions)\n}\n\ninstagram.id = id\n","import extend from \"just-extend\"\nimport highlight from \"embed-plugin-highlight\"\nimport emoji from \"embed-plugin-emoji\"\nimport github from \"embed-plugin-github\"\nimport noEmbed from \"embed-plugin-noembed\"\nimport url from \"embed-plugin-url\"\nimport youtube from \"embed-plugin-youtube\"\nimport facebook from \"embed-plugin-facebook\"\nimport media from \"embed-plugin-media\"\nimport instagram from \"embed-plugin-instagram\"\n\nexport default function(options) {\n  const defaultOptions = {\n    exclude: []\n  }\n\n  const presetOptions = extend({}, defaultOptions, options)\n\n  const pluginNames = [\n    url,\n    emoji,\n    github,\n    noEmbed,\n    youtube,\n    facebook,\n    highlight,\n    media,\n    instagram\n  ]\n  const plugins = pluginNames.map(plugin => {\n    const { id } = plugin\n    const pluginOptions = presetOptions[id]\n\n    if (presetOptions.exclude.indexOf(plugin.id) === -1) {\n      if (id === \"youtube\" || id === \"map\") {\n        return plugin(\n          extend(\n            {},\n            {\n              gAuthKey: options.gAuthKey\n            },\n            pluginOptions\n          )\n        )\n      } else if (id === \"noEmbed\") {\n        return plugin(\n          extend({}, pluginOptions, {\n            exclude: [\"youtube\"]\n          })\n        )\n      }\n      return plugin(pluginOptions)\n    }\n    return null\n  })\n\n  return plugins.filter(plugin => !!plugin)\n}\n"],"names":["const","let","extend","truncate","id","emojiRegex","kebab","flatten","pluck","_process","getRegex","escape","linkify","ytRegex","media"],"mappings":"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"}